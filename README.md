# api_final_yatube

Это проект API для создания и управления публикациями, комментариями и подписками пользователей. Он предоставляет функционал для работы с публикациями, позволяя пользователям оставлять комментарии под публикациями, а также подписываться на других пользователей.

## Описание

Проект реализует следующие модели и их взаимодействия:

- **Публикации** - пользователи могут создавать, читать и удалять публикации.
- **Комментарии** - пользователи могут оставлять комментарии под публикациями.
- **Подписки** - пользователи могут подписываться на других пользователей и получать обновления.

Проект использует Django REST Framework.

## Установка

1. **Клонируйте репозиторий:**

```bash
git clone https://github.com/Cmoild/api_final_yatube.git
```

2. **Перейдите в директорию проекта:**

```bash
cd api_final_yatube
```

3. **Создайте виртуальное окружение и активируйте его:**

Для Windows:

```powershell
python -m venv venv
venv\Scripts\activate
```

Для macOS/Linux:

```bash
python3 -m venv venv
source venv/bin/activate
```

4. **Установите зависимости из файла `requirements.txt`:**

```bash
pip install -r requirements.txt
```

5. **Примените миграции базы данных:**

```bash
python manage.py migrate
```

6. **Запустите проект:**

```bash
python manage.py runserver
```

После этого приложение будет доступно по адресу: `http://127.0.0.1:8000/`

## Примеры запросов к API

### 1. Получить все публикации

**URL:** `/api/v1/posts/`  

**Метод:** `GET`

**Ответ:**

```json
[
    {
        "id": 1,
        "author": "regular_user",
        "text": "Пост зарегистрированного пользователя.",
        "pub_date": "2025-05-06T18:14:22.706126Z",
        "image": null,
        "group": null
    },
    {
        "id": 2,
        "author": "regular_user",
        "text": "Пост с группой",
        "pub_date": "2025-05-06T18:14:22.780461Z",
        "image": null,
        "group": 1
    }
]
```

### 2. Создать комментарий под публикацией

**URL:** `/api/v1/posts/{post_id}/comments/`

**Метод:** `POST`

**Тело запроса:**

```json
{
    "text": "Тестовый комментарий"
}
```

**Ответ:**

```json
{
    "id": 1,
    "author": "regular_user",
    "text": "Тестовый комментарий",
    "created": "2025-05-06T18:14:23.265699Z",
    "post": 2
}
```

### 3. Подписаться на пользователя

**URL:** `/api/v1/follow/`

**Метод:** `POST`

**Тело запроса:**

```json
{
    "following": "root"
}
```

**Ответ:**

```json
{
    "user": "regular_user",
    "following": "root"
}
```

## Тестирование

Для тестирования API существует коллекция Postman. Также в проекте используется Pytest.

## Используемые технологии

- **Django**
- **Django REST Framework**
- **Simple JWT** - для работы с JWT токенами.
